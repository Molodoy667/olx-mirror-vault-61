import{h as f,r as s,s as u}from"./index-KbJkRX07.js";function h(){const{user:r}=f(),[a,o]=s.useState(!1),[c,t]=s.useState(!1),[i,l]=s.useState(!0);return s.useEffect(()=>{if(!r){o(!1),t(!1),l(!1);return}(async()=>{try{const{data:e,error:n}=await u.from("profiles").select("role").eq("id",r.id).single();if(n)throw n;o((e==null?void 0:e.role)==="admin"),t((e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="moderator")}catch(e){console.error("Error checking user role:",e),o(!1),t(!1)}finally{l(!1)}})()},[r]),{isAdmin:a,isModerator:c,loading:i}}export{h as u};
