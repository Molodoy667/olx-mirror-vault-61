<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Page</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>üîç Debug Page</h1>
    <div id="status">
        <p class="info">üìç –ü—É—Ç—å: <span id="path"></span></p>
        <p class="info">üåê URL: <span id="url"></span></p>
        <p class="info">üì± User Agent: <span id="ua"></span></p>
    </div>
    
    <h2>–¢–µ—Å—Ç—ã:</h2>
    <div id="tests">
        <p class="success">‚úÖ HTML –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è</p>
    </div>
    
    <h2>–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:</h2>
    <div id="main-test">
        <button onclick="testMain()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
        <div id="main-result"></div>
    </div>
    
    <script>
        // –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        document.getElementById('path').textContent = window.location.pathname;
        document.getElementById('url').textContent = window.location.href;
        document.getElementById('ua').textContent = navigator.userAgent.substring(0, 100) + '...';
        
        const tests = document.getElementById('tests');
        
        // –¢–µ—Å—Ç localStorage
        try {
            localStorage.setItem('test', 'ok');
            localStorage.removeItem('test');
            tests.innerHTML += '<p class="success">‚úÖ localStorage —Ä–∞–±–æ—Ç–∞–µ—Ç</p>';
        } catch (e) {
            tests.innerHTML += '<p class="error">‚ùå localStorage: ' + e.message + '</p>';
        }
        
        // –¢–µ—Å—Ç fetch
        if (typeof fetch !== 'undefined') {
            tests.innerHTML += '<p class="success">‚úÖ Fetch API –¥–æ—Å—Ç—É–ø–µ–Ω</p>';
        } else {
            tests.innerHTML += '<p class="error">‚ùå Fetch API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω</p>';
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function testMain() {
            const result = document.getElementById('main-result');
            result.innerHTML = '<p class="info">üîÑ –ü—Ä–æ–≤–µ—Ä—è–µ–º...</p>';
            
            fetch('/')
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error(`HTTP ${response.status}`);
                    }
                })
                .then(html => {
                    if (html.includes('<div id="root">')) {
                        result.innerHTML = '<p class="success">‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ</p>';
                    } else {
                        result.innerHTML = '<p class="error">‚ùå –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç div#root</p>';
                    }
                })
                .catch(error => {
                    result.innerHTML = '<p class="error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + error.message + '</p>';
                });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
        setTimeout(testMain, 1000);
    </script>
</body>
</html>