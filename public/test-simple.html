<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f0f0f0;
        }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
    </style>
</head>
<body>
    <h1>üîç –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞</h1>
    <div id="results">
        <p class="success">‚úÖ HTML —Ä–∞–±–æ—Ç–∞–µ—Ç</p>
        <p class="info">üìç URL: <span id="url"></span></p>
        <p class="info">üîß User Agent: <span id="ua"></span></p>
    </div>
    
    <h2>–¢–µ—Å—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</h2>
    <button onclick="testMainApp()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å index.html</button>
    <div id="main-test"></div>
    
    <h2>–¢–µ—Å—Ç Supabase:</h2>
    <button onclick="testSupabase()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Supabase</button>
    <div id="supabase-test"></div>
    
    <script>
        document.getElementById('url').textContent = window.location.href;
        document.getElementById('ua').textContent = navigator.userAgent.substring(0, 50) + '...';
        
        function testMainApp() {
            const result = document.getElementById('main-test');
            result.innerHTML = '<p class="info">üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...</p>';
            
            fetch('/index.html')
                .then(response => response.text())
                .then(html => {
                    if (html.includes('<div id="root">')) {
                        result.innerHTML = '<p class="success">‚úÖ index.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç div#root</p>';
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≥–ª–∞–≤–Ω—ã–π JS —Ñ–∞–π–ª
                        const scriptMatch = html.match(/src="([^"]*index[^"]*\.js)"/);
                        if (scriptMatch) {
                            const scriptSrc = scriptMatch[1];
                            result.innerHTML += `<p class="info">üìù –ù–∞–π–¥–µ–Ω —Å–∫—Ä–∏–ø—Ç: ${scriptSrc}</p>`;
                            
                            fetch(scriptSrc)
                                .then(jsResponse => {
                                    if (jsResponse.ok) {
                                        result.innerHTML += '<p class="success">‚úÖ –ì–ª–∞–≤–Ω—ã–π JS —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω</p>';
                                    } else {
                                        result.innerHTML += `<p class="error">‚ùå JS —Ñ–∞–π–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (${jsResponse.status})</p>`;
                                    }
                                })
                                .catch(err => {
                                    result.innerHTML += `<p class="error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ JS: ${err.message}</p>`;
                                });
                        }
                    } else {
                        result.innerHTML = '<p class="error">‚ùå index.html –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç div#root</p>';
                    }
                })
                .catch(error => {
                    result.innerHTML = `<p class="error">‚ùå –û—à–∏–±–∫–∞: ${error.message}</p>`;
                });
        }
        
        function testSupabase() {
            const result = document.getElementById('supabase-test');
            result.innerHTML = '<p class="info">üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º Supabase...</p>';
            
            const SUPABASE_URL = "https://rvitgahgyioydzusrpvw.supabase.co";
            const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2aXRnYWhneWlveWR6dXNycHZ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU5ODAyMjksImV4cCI6MjA3MTU1NjIyOX0.H1pO_QsPJJB1Sachgfzh6JBkz-wWsk0vQtTUvLfhNas";
            
            fetch(`${SUPABASE_URL}/rest/v1/`, {
                headers: {
                    'apikey': SUPABASE_KEY,
                    'Authorization': `Bearer ${SUPABASE_KEY}`
                }
            })
            .then(response => {
                if (response.ok) {
                    result.innerHTML = '<p class="success">‚úÖ Supabase –¥–æ—Å—Ç—É–ø–µ–Ω</p>';
                } else {
                    result.innerHTML = `<p class="error">‚ùå Supabase –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (${response.status})</p>`;
                }
            })
            .catch(error => {
                result.innerHTML = `<p class="error">‚ùå –û—à–∏–±–∫–∞ Supabase: ${error.message}</p>`;
            });
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã
        setTimeout(() => {
            testMainApp();
            testSupabase();
        }, 1000);
    </script>
</body>
</html>