<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Debug</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #333; 
            color: white;
        }
        .log { 
            background: #222; 
            padding: 10px; 
            margin: 5px 0; 
            border-radius: 3px; 
            font-family: monospace;
        }
        .error { background: #722; }
        .success { background: #272; }
        .info { background: #227; }
    </style>
</head>
<body>
    <h1>üîç JavaScript File Debug</h1>
    <div id="logs"></div>
    
    <h2>Manual Tests:</h2>
    <button onclick="testMainJS()">Load Main JS Manually</button>
    <button onclick="testReactLoad()">Test React Loading</button>
    <button onclick="simulateMainApp()">Simulate Main App</button>
    
    <script>
        const logs = document.getElementById('logs');
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logs.appendChild(div);
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        // –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ –æ—à–∏–±–∫–∏
        window.addEventListener('error', (e) => {
            log(`ERROR: ${e.message} at ${e.filename}:${e.lineno}`, 'error');
        });
        
        window.addEventListener('unhandledrejection', (e) => {
            log(`UNHANDLED PROMISE REJECTION: ${e.reason}`, 'error');
        });
        
        log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –Ω–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç—ã', 'success');
        
        function testMainJS() {
            log('–ü—ã—Ç–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π JS —Ñ–∞–π–ª...', 'info');
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π div#root –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
            const testRoot = document.createElement('div');
            testRoot.id = 'test-root';
            document.body.appendChild(testRoot);
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç
            const script = document.createElement('script');
            script.type = 'module';
            script.src = '/assets/index-CSeJ3J4N.js';
            
            script.onload = () => {
                log('–ì–ª–∞–≤–Ω—ã–π JS —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ', 'success');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ—è–≤–∏–ª–æ—Å—å –≤ test-root —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    if (testRoot.innerHTML.trim()) {
                        log(`–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ test-root: ${testRoot.innerHTML.substring(0, 100)}...`, 'success');
                    } else {
                        log('test-root –æ—Å—Ç–∞–ª—Å—è –ø—É—Å—Ç—ã–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ JS', 'error');
                    }
                }, 2000);
            };
            
            script.onerror = () => {
                log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ JS —Ñ–∞–π–ª–∞', 'error');
            };
            
            document.head.appendChild(script);
        }
        
        function testReactLoad() {
            log('–¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É React –∏–∑ CDN...', 'info');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º React –∏–∑ CDN
            const reactScript = document.createElement('script');
            reactScript.src = 'https://unpkg.com/react@18/umd/react.development.js';
            reactScript.onload = () => {
                log('React –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ CDN', 'success');
                
                const reactDomScript = document.createElement('script');
                reactDomScript.src = 'https://unpkg.com/react-dom@18/umd/react-dom.development.js';
                reactDomScript.onload = () => {
                    log('ReactDOM –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ CDN', 'success');
                    log('React.version: ' + window.React.version, 'info');
                };
                document.head.appendChild(reactDomScript);
            };
            document.head.appendChild(reactScript);
        }
        
        function simulateMainApp() {
            log('–°–∏–º—É–ª–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ...', 'info');
            
            // –°–æ–∑–¥–∞–µ–º div#root –∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
            let mainRoot = document.getElementById('main-root');
            if (!mainRoot) {
                mainRoot = document.createElement('div');
                mainRoot.id = 'main-root';
                document.body.appendChild(mainRoot);
            }
            
            // –°–∏–º—É–ª–∏—Ä—É–µ–º —á—Ç–æ –¥–µ–ª–∞–µ—Ç main.tsx
            try {
                log('–°–æ–∑–¥–∞–µ–º –ø—Ä–æ—Å—Ç–æ–π React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç...', 'info');
                
                mainRoot.innerHTML = `
                    <div style="padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 10px; margin: 20px 0;">
                        <h2>üéâ –°–∏–º—É–ª—è—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h2>
                        <p>–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —ç—Ç–æ, —Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM</p>
                        <p>–í—Ä–µ–º—è: ${new Date().toLocaleString()}</p>
                    </div>
                `;
                
                log('–°–∏–º—É–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ - DOM —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è', 'success');
                
            } catch (error) {
                log(`–û—à–∏–±–∫–∞ —Å–∏–º—É–ª—è—Ü–∏–∏: ${error.message}`, 'error');
            }
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
        setTimeout(() => {
            log('–ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã...', 'info');
            testReactLoad();
            setTimeout(testMainJS, 1000);
        }, 1000);
    </script>
</body>
</html>