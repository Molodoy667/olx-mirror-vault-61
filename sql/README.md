# üìä SQL Scripts –¥–ª—è Novado

–ö–æ–ª–µ–∫—Ü—ñ—è SQL —Å–∫—Ä–∏–ø—Ç—ñ–≤ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å—É.

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏

### üåê `create_site_settings_table.sql`
**–°–∏—Å—Ç–µ–º–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —Å–∞–π—Ç—É**
- –°—Ç–≤–æ—Ä—é—î —Ç–∞–±–ª–∏—Ü—é `site_settings` –∑ 50+ –ø–æ–ª—è–º–∏
- –û—Å–Ω–æ–≤–Ω—ñ, –≤—ñ–∑—É–∞–ª—å–Ω—ñ, SEO, —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
- RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó update/get
- **–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –í–∏–∫–æ–Ω–∞—Ç–∏ –≤ Supabase SQL Editor

### üë§ `20250130_add_profile_id.sql`
**–°–∏—Å—Ç–µ–º–∞ Profile ID**
- –î–æ–¥–∞—î profile_id –ø–æ–ª–µ –¥–æ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö 6-–∑–Ω–∞—á–Ω–∏—Ö ID
- –ú—ñ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —ñ—Å–Ω—É—é—á–∏—Ö –ø—Ä–æ—Ñ—ñ–ª—ñ–≤

### üìß `20250130_add_email_to_profiles.sql`
**Email —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –ø—Ä–æ—Ñ—ñ–ª—ñ–≤**
- –î–æ–¥–∞—î email –ø–æ–ª–µ –¥–æ —Ç–∞–±–ª–∏—Ü—ñ profiles
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ auth.users

### üîî `20250130_create_notifications_system.sql`
**–°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å**
- –ü–æ–≤–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ push-—Å–ø–æ–≤—ñ—â–µ–Ω—å
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- RLS –ø–æ–ª—ñ—Ç–∏–∫–∏ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ—ó

### ‚è∞ `20250130_add_last_seen_to_profiles.sql`
**–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**
- –î–æ–¥–∞—î last_seen –¥–æ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

## üìã –ü–æ—Ä—è–¥–æ–∫ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è

1. **–ë–∞–∑–∞ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤:**
   ```sql
   \i 20250130_add_profile_id.sql
   \i 20250130_add_email_to_profiles.sql
   \i 20250130_add_last_seen_to_profiles.sql
   ```

2. **–°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å:**
   ```sql
   \i 20250130_create_notifications_system.sql
   ```

3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∞–π—Ç—É:**
   ```sql
   \i create_site_settings_table.sql
   ```

## ‚ö° –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```sql
-- –í–∏–∫–æ–Ω–∞—Ç–∏ –≤—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –æ–¥—Ä–∞–∑—É
\i 20250130_add_profile_id.sql
\i 20250130_add_email_to_profiles.sql
\i 20250130_add_last_seen_to_profiles.sql
\i 20250130_create_notifications_system.sql
\i create_site_settings_table.sql
```

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

- –í—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –≤–∫–ª—é—á–∞—é—Ç—å RLS (Row Level Security)
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –Ω–∞ —Ä—ñ–≤–Ω—ñ –ë–î
- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø—É –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ä–æ–ª–µ–π

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –°–∫—Ä–∏–ø—Ç–∏ –±–µ–∑–ø–µ—á–Ω—ñ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
- –í–∫–ª—é—á–∞—é—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤
- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
- –°—É–º—ñ—Å–Ω—ñ –∑ Supabase —Ç–∞ PostgreSQL

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

- PostgreSQL 13+ —Å—É–º—ñ—Å–Ω—ñ—Å—Ç—å
- UUID –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–ª—è ID
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç—Ä–∏–≥–µ—Ä–∏ –¥–ª—è timestamps
- –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–æ–º–∏–ª–æ–∫:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è –≤ –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø—É
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–∏ –ø–æ —á–µ—Ä–∑—ñ